-- Example 14318
snow --help

-- Example 14319
Usage: snow [OPTIONS] COMMAND [ARGS]...

Snowflake CLI tool for developers.

╭─ Options ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ --version                           Shows version of the Snowflake CLI                                                                   │
│ --info                              Shows information about the Snowflake CLI                                                            │
│ --config-file                 FILE  Specifies Snowflake CLI configuration file that should be used [default: None]                       │
│ --install-completion                Install completion for the current shell.                                                            │
│ --show-completion                   Show completion for the current shell, to copy it or customize the installation.                     │
│ --help                -h            Show this message and exit.                                                                          │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─ Commands ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ app          Manages a Snowflake Native App                                                                                              │
│ connection   Manages connections to Snowflake.                                                                                           │
│ cortex       Provides access to Snowflake Cortex.                                                                                        │
│ git          Manages git repositories in Snowflake.                                                                                      │
│ notebook     Manages notebooks in Snowflake.                                                                                             │
│ object       Manages Snowflake objects like warehouses and stages                                                                        │
│ snowpark     Manages procedures and functions.                                                                                           │
│ spcs         Manages Snowpark Container Services compute pools, services, image registries, and image repositories.                      │
│ sql          Executes Snowflake query.                                                                                                   │
│ stage        Manages stages.                                                                                                             │
│ streamlit    Manages a Streamlit app in Snowflake.                                                                                       │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

-- Example 14320
snow --help

-- Example 14321
Usage: snow [OPTIONS] COMMAND [ARGS]...

Snowflake CLI tool for developers.

╭─ Options ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ --version                           Shows version of the Snowflake CLI                                                                   │
│ --info                              Shows information about the Snowflake CLI                                                            │
│ --config-file                 FILE  Specifies Snowflake CLI configuration file that should be used [default: None]                       │
│ --install-completion                Install completion for the current shell.                                                            │
│ --show-completion                   Show completion for the current shell, to copy it or customize the installation.                     │
│ --help                -h            Show this message and exit.                                                                          │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─ Commands ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ app          Manages a Snowflake Native App                                                                                              │
│ connection   Manages connections to Snowflake.                                                                                           │
│ cortex       Provides access to Snowflake Cortex.                                                                                        │
│ git          Manages git repositories in Snowflake.                                                                                      │
│ notebook     Manages notebooks in Snowflake.                                                                                             │
│ object       Manages Snowflake objects like warehouses and stages                                                                        │
│ snowpark     Manages procedures and functions.                                                                                           │
│ spcs         Manages Snowpark Container Services compute pools, services, image registries, and image repositories.                      │
│ sql          Executes Snowflake query.                                                                                                   │
│ stage        Manages stages.                                                                                                             │
│ streamlit    Manages a Streamlit app in Snowflake.                                                                                       │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

-- Example 14322
brew tap snowflakedb/snowflake-cli
brew update

-- Example 14323
brew install snowflake-cli

-- Example 14324
snow --help

-- Example 14325
Usage: snow [OPTIONS] COMMAND [ARGS]...

Snowflake CLI tool for developers.

╭─ Options ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ --version                           Shows version of the Snowflake CLI                                                                   │
│ --info                              Shows information about the Snowflake CLI                                                            │
│ --config-file                 FILE  Specifies Snowflake CLI configuration file that should be used [default: None]                       │
│ --install-completion                Install completion for the current shell.                                                            │
│ --show-completion                   Show completion for the current shell, to copy it or customize the installation.                     │
│ --help                -h            Show this message and exit.                                                                          │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─ Commands ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ app          Manages a Snowflake Native App                                                                                              │
│ connection   Manages connections to Snowflake.                                                                                           │
│ cortex       Provides access to Snowflake Cortex.                                                                                        │
│ git          Manages git repositories in Snowflake.                                                                                      │
│ notebook     Manages notebooks in Snowflake.                                                                                             │
│ object       Manages Snowflake objects like warehouses and stages                                                                        │
│ snowpark     Manages procedures and functions.                                                                                           │
│ spcs         Manages Snowpark Container Services compute pools, services, image registries, and image repositories.                      │
│ sql          Executes Snowflake query.                                                                                                   │
│ stage        Manages stages.                                                                                                             │
│ streamlit    Manages a Streamlit app in Snowflake.                                                                                       │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

-- Example 14326
pip install snowflake-cli

-- Example 14327
snow --help

-- Example 14328
Usage: snow [OPTIONS] COMMAND [ARGS]...

Snowflake CLI tool for developers.

╭─ Options ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ --version                           Shows version of the Snowflake CLI                                                                   │
│ --info                              Shows information about the Snowflake CLI                                                            │
│ --config-file                 FILE  Specifies Snowflake CLI configuration file that should be used [default: None]                       │
│ --install-completion                Install completion for the current shell.                                                            │
│ --show-completion                   Show completion for the current shell, to copy it or customize the installation.                     │
│ --help                -h            Show this message and exit.                                                                          │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─ Commands ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ app          Manages a Snowflake Native App                                                                                              │
│ connection   Manages connections to Snowflake.                                                                                           │
│ cortex       Provides access to Snowflake Cortex.                                                                                        │
│ git          Manages git repositories in Snowflake.                                                                                      │
│ notebook     Manages notebooks in Snowflake.                                                                                             │
│ object       Manages Snowflake objects like warehouses and stages                                                                        │
│ snowpark     Manages procedures and functions.                                                                                           │
│ spcs         Manages Snowpark Container Services compute pools, services, image registries, and image repositories.                      │
│ sql          Executes Snowflake query.                                                                                                   │
│ stage        Manages stages.                                                                                                             │
│ streamlit    Manages a Streamlit app in Snowflake.                                                                                       │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

-- Example 14329
pipx install snowflake-cli

-- Example 14330
snow --help

-- Example 14331
Usage: snow [OPTIONS] COMMAND [ARGS]...

Snowflake CLI tool for developers.

╭─ Options ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ --version                           Shows version of the Snowflake CLI                                                                   │
│ --info                              Shows information about the Snowflake CLI                                                            │
│ --config-file                 FILE  Specifies Snowflake CLI configuration file that should be used [default: None]                       │
│ --install-completion                Install completion for the current shell.                                                            │
│ --show-completion                   Show completion for the current shell, to copy it or customize the installation.                     │
│ --help                -h            Show this message and exit.                                                                          │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─ Commands ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ app          Manages a Snowflake Native App                                                                                              │
│ connection   Manages connections to Snowflake.                                                                                           │
│ cortex       Provides access to Snowflake Cortex.                                                                                        │
│ git          Manages git repositories in Snowflake.                                                                                      │
│ notebook     Manages notebooks in Snowflake.                                                                                             │
│ object       Manages Snowflake objects like warehouses and stages                                                                        │
│ snowpark     Manages procedures and functions.                                                                                           │
│ spcs         Manages Snowpark Container Services compute pools, services, image registries, and image repositories.                      │
│ sql          Executes Snowflake query.                                                                                                   │
│ stage        Manages stages.                                                                                                             │
│ streamlit    Manages a Streamlit app in Snowflake.                                                                                       │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

-- Example 14332
snow --install-completion

-- Example 14333
zsh completion installed in <user home>/.zfunc/_snow
Completion will take effect once you restart the terminal

-- Example 14334
snow --show-completion

-- Example 14335
_snow_completion() {
   local IFS=$'
'
   COMPREPLY=( $( env COMP_WORDS="${COMP_WORDS[*]}" \
                  COMP_CWORD=$COMP_CWORD \
                  _SNOW_COMPLETE=complete_bash $1 ) )
   return 0
}

complete -o default -F _snow_completion snow

-- Example 14336
export SHELL=/bin/bash

...

_snow_completion() {
   local IFS=$'
'
   COMPREPLY=( $( env COMP_WORDS="${COMP_WORDS[*]}" \
                  COMP_CWORD=$COMP_CWORD \
                  _SNOW_COMPLETE=complete_bash $1 ) )
   return 0
}

complete -o default -F _snow_completion snow

-- Example 14337
source ~/.bashrc

-- Example 14338
snow app [TAB]

-- Example 14339
deploy    init      open      run       teardown  version

-- Example 14340
snow init PATH [--template-source SOURCE] [--template NAME] [-D key1=value1 -D key2=value2...] [--no-interactive]

-- Example 14341
snow init my_snowpark_test_app --template example_snowpark

-- Example 14342
Project identifier (used to determine artifacts stage path) [my_snowpark_project]:
What stage should the procedures and functions be deployed to? [dev_deployment]: snowpark
Initialized the new project in my_snowpark_test_app

-- Example 14343
snow init new_streamlit_project --template-source ../local_templates/example_streamlit -D query_warehouse=dev_wareshouse -D stage=testing

-- Example 14344
Name of the streamlit app [streamlit_app]:
Initialized the new project in new_streamlit_project

-- Example 14345
some_file_spec:
  filename: <! file_name !>
  size: "<! [ max_file_size_mb, 4 ] | max !> MB"

-- Example 14346
definition_version: "1.1"
snowpark:
  project_name: <! project_dir_name !>
  ...

-- Example 14347
snow init examples/new_snowpark_project --template-source my_example_template/

-- Example 14348
definition_version: "1.1"
snowpark:
  project_name: new_snowpark_project
  ...

-- Example 14349
definition_version: "1.1"
streamlit:
  name: <! name | to_snowflake_identifier !>
  ...

-- Example 14350
snow init examples/streamlit --template-source my_example_template2/ -D name='My test streamlit'

-- Example 14351
definition_version: "1.1"
streamlit:
  name: My_test_streamlit
  ...

-- Example 14352
snow init examples/streamlit --template-source my_example_template2/ -D name=1234567890

-- Example 14353
╭─ Error ────────────────────────────────────────────────────────────────────────╮
│ Value '123456789' cannot be converted to valid Snowflake identifier.         │
│ Consider enclosing it in double quotes: ""                                   │
╰────────────────────────────────────────────────────────────────────────────────╯

-- Example 14354
minimum_cli_version: "2.7.0"
files_to_render:
  - snowflake.yml
variables:
  - name: name
    default: streamlit_app
    prompt: "Name of the streamlit app"
    type: string
  - name: stage
    default: my_streamlit_stage
    prompt: "What stage should the app be deployed to?"
    type: string
  - name: query_warehouse
    default: my_streamlit_warehouse
    prompt: "On which warehouse SQL queries issued by the application are run"
    type: string

-- Example 14355
╭─ Error ─────────────────────────────────────────────────────────╮
│ Cannot determine value of variable undefinded_variable        │
╰─────────────────────────────────────────────────────────────────╯

-- Example 14356
variables:
  - name: project_id
    prompt: The identifier for the project

-- Example 14357
The identifier for the project:

-- Example 14358
variables:
  - name: max_file_size_mb
    default: 16
  - name: file_name
    default: 'default_file_name.zip'

-- Example 14359
file_name [default_file_name.zip]:
max_file_size_mb [16]: 5

-- Example 14360
variables:
  - name: max_file_size_mb
    type: int

-- Example 14361
max_file_size_mb: not an int
Error: 'not an int' is not a valid integer.
max_file_size_mb: 14.5
Error: '14.5' is not a valid integer.
max_file_size_mb: 6
Initialized the new project in example_dir

-- Example 14362
definition_version: 2
entities:
  test_function:
    type: "function"
    stage: "dev_deployment"
    artifacts: ["app/"]
    handler: "functions.hello_function"
    signature: ""
    returns: string

  hello_procedure:
    type: "procedure"
    stage: "dev_deployment"
    artifacts: ["app/"]
    handler: "procedures.hello_procedure"
    signature:
      - name: "name"
        type: "string"
    returns: string

-- Example 14363
snow object list --help

-- Example 14364
Usage: snow object list [OPTIONS] OBJECT_TYPE

Lists all available Snowflake objects of given type.
Supported types: compute-pool, database, function, image-repository, integration, network-rule,
procedure, role, schema, secret, service, stage, stream, streamlit, table, task,
user, view, warehouse

...

-- Example 14365
snow object create TYPE ([OBJECT_ATTRIBUTES]|[--json {OBJECT_DEFINITION}])

-- Example 14366
snow object create database name=my_db comment="Created with Snowflake CLI"

-- Example 14367
snow object create database --json '{"name":"my_db", "comment":"Created with Snowflake CLI"}'

-- Example 14368
snow object create database name=my_db comment='Created with Snowflake CLI'

-- Example 14369
snow object create table name=my_table columns='[{"name":"col1","datatype":"number", "nullable":false}]' constraints='[{"name":"prim_key", "column_names":["col1"], "constraint_type":"PRIMARY KEY"}]' --database my_db

-- Example 14370
snow object create database --json '{"name":"my_db", "comment":"Created with Snowflake CLI"}'

-- Example 14371
snow object create table --json "$(cat table.json)" --database my_db

-- Example 14372
{
  "name": "my_table",
  "columns": [
    {
      "name": "col1",
      "datatype": "number",
      "nullable": false
    }
  ],
  "constraints": [
    {
      "name": "prim_key",
      "column_names": ["col1"],
      "constraint_type": "PRIMARY KEY"
    }
  ]
}

-- Example 14373
snow object list TYPE

-- Example 14374
snow object list role

-- Example 14375
+--------------------------------------------------------------------------------------------------------------------------------+
|            |            |            |            | is_inherit | assigned_t | granted_to | granted_ro |            |           |
| created_on | name       | is_default | is_current | ed         | o_users    | _roles     | les        | owner      | comment   |
|------------+------------+------------+------------+------------+------------+------------+------------+------------+-----------|
| 2023-07-24 | ACCOUNTADM | N          | N          | N          | 2          | 0          | 2          |            | Account   |
| 06:05:49-0 | IN         |            |            |            |            |            |            |            | administr |
| 7:00       |            |            |            |            |            |            |            |            | ator can  |
|            |            |            |            |            |            |            |            |            | manage    |
|            |            |            |            |            |            |            |            |            | all       |
|            |            |            |            |            |            |            |            |            | aspects   |
|            |            |            |            |            |            |            |            |            | of the    |
|            |            |            |            |            |            |            |            |            | account.  |
| 2023-07-24 | PUBLIC     | N          | N          | Y          | 0          | 0          | 0          |            | Public    |
| 06:05:48.9 |            |            |            |            |            |            |            |            | role is   |
| 56000-07:0 |            |            |            |            |            |            |            |            | automatic |
| 0          |            |            |            |            |            |            |            |            | ally      |
|            |            |            |            |            |            |            |            |            | available |
|            |            |            |            |            |            |            |            |            | to every  |
|            |            |            |            |            |            |            |            |            | user in   |
|            |            |            |            |            |            |            |            |            | the       |
|            |            |            |            |            |            |            |            |            | account.  |
| 2023-07-24 | SYSADMIN   | N          | N          | N          | 0          | 1          | 0          |            | System    |
| 06:05:49.0 |            |            |            |            |            |            |            |            | administr |
| 33000-07:0 |            |            |            |            |            |            |            |            | ator can  |
| 0          |            |            |            |            |            |            |            |            | create    |
|            |            |            |            |            |            |            |            |            | and       |
|            |            |            |            |            |            |            |            |            | manage    |
|            |            |            |            |            |            |            |            |            | databases |
|            |            |            |            |            |            |            |            |            | and       |
|            |            |            |            |            |            |            |            |            | warehouse |
|            |            |            |            |            |            |            |            |            | s.        |
| 2023-07-24 | USERADMIN  | N          | N          | N          | 0          | 1          | 0          |            | User      |
| 06:05:49.0 |            |            |            |            |            |            |            |            | administr |
| 45000-07:0 |            |            |            |            |            |            |            |            | ator can  |
| 0          |            |            |            |            |            |            |            |            | create    |
|            |            |            |            |            |            |            |            |            | and       |
|            |            |            |            |            |            |            |            |            | manage    |
|            |            |            |            |            |            |            |            |            | users and |
|            |            |            |            |            |            |            |            |            | roles     |
+--------------------------------------------------------------------------------------------------------------------------------+

-- Example 14376
snow object list role --like public%

-- Example 14377
show roles like 'public%'
+-------------------------------------------------------------------------------
| created_on                       | name        | is_default | is_current | ...
|----------------------------------+-------------+------------+------------+----
| 2023-02-01 15:25:04.105000-08:00 | PUBLIC      | N          | N          | ...
| 2024-01-15 12:55:05.840000-08:00 | PUBLIC_TEST | N          | N          | ...
+-------------------------------------------------------------------------------

-- Example 14378
snow object describe TYPE IDENTIFIER

-- Example 14379
snow object describe function "hello_function(string)"

-- Example 14380
describe function hello_function(string)
+---------------------------------------------------------------------
| property           | value
|--------------------+------------------------------------------------
| signature          | (NAME VARCHAR)
| returns            | VARCHAR(16777216)
| language           | PYTHON
| null handling      | CALLED ON NULL INPUT
| volatility         | VOLATILE
| body               | None
| imports            |
| handler            | functions.hello_function
| runtime_version    | 3.9
| packages           | ['snowflake-snowpark-python']
| installed_packages | ['_libgcc_mutex==0.1','_openmp_mutex==5.1',...
+---------------------------------------------------------------------

-- Example 14381
snow object drop TYPE IDENTIFIER

-- Example 14382
snow object drop procedure "test_procedure()"

-- Example 14383
drop procedure test_procedure()
+--------------------------------------+
| status                               |
|--------------------------------------|
| TEST_PROCEDURE successfully dropped. |
+--------------------------------------+

-- Example 14384
snow stage create <stage_name>

